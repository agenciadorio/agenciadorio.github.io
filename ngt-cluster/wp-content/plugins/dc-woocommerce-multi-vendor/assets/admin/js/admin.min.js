jQuery(document).ready(function(e){var t;e(".img_tip").each(function(){e(this).qtip({content:e(this).attr("data-desc"),position:{my:"top center",at:"bottom center",viewport:e(window)},show:{event:"mouseover",solo:!0},hide:{inactive:6e3,fixed:!0},style:{classes:"qtip-dark qtip-shadow qtip-rounded qtip-dc-css"}})}),e(".dc_datepicker").each(function(){e(this).datepicker({dateFormat:e(this).data("date_format"),changeMonth:!0,changeYear:!0})}),e(".multi_input_holder").each(function(){var t=e(this);1==t.find(".multi_input_block").length&&t.find(".remove_multi_input_block").css("display","none"),t.find(".multi_input_block").each(function(){e(this)[0]!=t.find(".multi_input_block:last")[0]&&e(this).find(".add_multi_input_block").remove()}),t.find(".add_multi_input_block").click(function(){var s=t.attr("id"),i=t.data("name"),a=t.data("length");a++;var o=t.find(".multi_input_block:first").clone(!0);o.find("textarea,input:not(input[type=button],input[type=submit])").val(""),o.find(".multi_input_block_element").each(function(){var t=e(this),o=t.data("name");if(t.attr("name",i+"["+a+"]["+o+"]"),t.attr("id",s+"_"+o+"_"+a),t.parent().hasClass("dc-wp-fields-uploader")){var n=t.parent();n.find("img").attr("src","").attr("id",s+"_"+o+"_"+a+"_display").addClass("placeHolder"),n.find(".upload_button").attr("id",s+"_"+o+"_"+a+"_button").show(),n.find(".remove_button").attr("id",s+"_"+o+"_"+a+"_remove_button").hide()}t.hasClass("dc_datepicker")&&t.removeClass("hasDatepicker").datepicker({dateFormat:t.data("date_format"),changeMonth:!0,changeYear:!0})}),o.find(".add_multi_input_block").remove(),t.append(o),t.find(".multi_input_block:last").append(e(this)),t.find(".multi_input_block").length>1&&t.find(".remove_multi_input_block").css("display","block"),t.data("length",a)}),t.find(".remove_multi_input_block").click(function(){var s=t.find(".add_multi_input_block").clone(!0);e(this).parent().remove(),t.find(".add_multi_input_block").remove(),t.find(".multi_input_block:last").append(s),1==t.find(".multi_input_block").length&&t.find(".remove_multi_input_block").css("display","none")})}),"fixed_with_percentage"==e("#commission_typee").val()?(e("#default_commissionn").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none")):"fixed_with_percentage_qty"==e("#commission_typee").val()?(e("#default_commissionn").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none")):(e("#default_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none")),e("#commission_typee").change(function(){var t=e(this).val();"fixed_with_percentage"==t?(e("#default_commissionn").closest("tr").css("display","none"),e("#default_percentage").val(""),e("#fixed_with_percentage").val(""),e("#default_percentage").closest("tr").show(),e("#fixed_with_percentage").closest("tr").show(),e("#fixed_with_percentage_qty").closest("tr").hide()):"fixed_with_percentage_qty"==t?(e("#default_commissionn").closest("tr").css("display","none"),e("#default_percentage").closest("tr").show(),e("#fixed_with_percentage_qty").closest("tr").show(),e("#fixed_with_percentage").closest("tr").hide(),e("#default_percentage").val(""),e("#fixed_with_percentage_qty").val("")):(e("#default_commissionn").closest("tr").show(),e("#default_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none"))}),e("#wcmp_disbursal_mode_admin").is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none"),e("#wcmp_disbursal_mode_admin").change(function(){e(this).is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none")}),e("#wcmp_disbursal_mode_vendor").is(":checked")?(e("#commission_transfer").closest("tr").show(),e("#no_of_orders").closest("tr").show()):(e("#commission_transfer").closest("tr").css("display","none"),e("#no_of_orders").closest("tr").css("display","none")),e("#wcmp_disbursal_mode_admin").is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none"),e("#testmode").is(":checked")?(e("#test_client_id").closest("tr").show(),e("#test_publishable_key").closest("tr").show(),e("#test_secret_key").closest("tr").show(),e("#live_client_id").closest("tr").hide(),e("#live_publishable_key").closest("tr").hide(),e("#live_secret_key").closest("tr").hide()):(e("#test_client_id").closest("tr").hide(),e("#test_publishable_key").closest("tr").hide(),e("#test_secret_key").closest("tr").hide(),e("#live_client_id").closest("tr").show(),e("#live_publishable_key").closest("tr").show(),e("#live_secret_key").closest("tr").show()),e("#testmode").change(function(){e(this).is(":checked")?(e("#test_client_id").closest("tr").show(),e("#test_publishable_key").closest("tr").show(),e("#test_secret_key").closest("tr").show(),e("#live_client_id").closest("tr").hide(),e("#live_publishable_key").closest("tr").hide(),e("#live_secret_key").closest("tr").hide()):(e("#test_client_id").closest("tr").hide(),e("#test_publishable_key").closest("tr").hide(),e("#test_secret_key").closest("tr").hide(),e("#live_client_id").closest("tr").show(),e("#live_publishable_key").closest("tr").show(),e("#live_secret_key").closest("tr").show())}),e("#wcmp_disbursal_mode_vendor").change(function(){e(this).is(":checked")?(e("#commission_transfer").closest("tr").show(),e("#no_of_orders").closest("tr").show()):(e("#commission_transfer").closest("tr").css("display","none"),e("#no_of_orders").closest("tr").css("display","none"))}),e("#payment_gateway_charge").change(function(){e(this).prop("checked")?(e(".payment_gateway_charge").show(),e("#payment_gateway_charge_type").closest("tr").show()):(e(".payment_gateway_charge").hide(),e("#payment_gateway_charge_type").closest("tr").hide())}).change(),e(".automatic_payment_method").change(function(){var t=e(this).attr("id");if(void 0!==t){var s="gateway_charge"+t.split("payment_method")[1];e(this).is(":checked")&&e("#payment_gateway_charge").prop("checked")?e("#"+s).closest("tr").show():e("#"+s).closest("tr").hide()}}).change(),e("#vendor_color_scheme_picker input[type=radio]").on("change",function(){e("#vendor_color_scheme_picker .color-option").removeClass("selected"),e(this).closest("div").addClass("selected")}),e("#vendor_preview_tabs").tabs(),e("body").on("click","#vendor_preview_tabs a.ui-tabs-anchor",function(t){location.hash="/"+e(this).attr("id")}),location.hash&&(t=location.hash.replace("#/",""),e("#vendor_preview_tabs a[id='"+t+"']").click()),e("#vendor_preview_tabs").click("#vendor-application",function(t,s){($vendor_type=e("#vendor-application").data("vendor-type"),$vendor_type)&&(4==e("#vendor_preview_tabs").tabs("option","active")?e("#wc-backbone-modal-dialog").hide():e("#wc-backbone-modal-dialog").show())}),e("#vendor_payment_mode").on("change",function(){e(".payment-gateway").hide(),e(".payment-gateway-"+e(this).val()).show()}).change(),e(".vendor-preview").click(function(){var t=e(this),s=t.data("vendor-id");return t.data("vendor-data")?e(this).WCBackboneModal({template:"wcmp-modal-view-vendor",variable:t.data("vendor-data")}):(t.addClass("disabled"),e.ajax({url:wcmp_admin_js_script_data.ajax_url,data:{vendor_id:s,action:"wcmp_get_vendor_details",nonce:wcmp_admin_js_script_data.vendors_nonce},type:"GET",success:function(s){e(".vendor-preview").removeClass("disabled"),s.success&&(t.data("vendor-data",s.data),e(this).WCBackboneModal({template:"wcmp-modal-view-vendor",variable:s.data}))}})),!1}),e(document.body).on("click","#wc-backbone-modal-dialog .wcmp-action-button",function(t){t.preventDefault(),e(".wcmp-loader").html('<span class="dashicons dashicons-image-rotate"></span>');var s=e(this),i=s.data("vendor-id"),a=s.data("ajax-action");$pending_vendor_note=s.closest(".wcmp-vendor-modal-main").find(".pending-vendor-note").val(),$note_author_id=s.closest(".wcmp-vendor-modal-main").find(".pending-vendor-note").data("note-author-id"),void 0!==i&&null!==i&&i>0&&e.ajax({url:wcmp_admin_js_script_data.ajax_url,data:{user_id:i,action:a,redirect:!0,custom_note:$pending_vendor_note,note_by:$note_author_id},type:"POST",success:function(t){e(".wcmp-loader").html(""),t.redirect&&(window.location=t.redirect_url)}})})});