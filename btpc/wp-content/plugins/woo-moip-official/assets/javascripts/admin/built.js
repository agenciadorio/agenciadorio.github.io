!function(t,e){"use strict";var n=function(a,i){for(var s=a.split("."),o=t,r=s.length,c=0;c<r;c++)o[s[c]]=r-1===c?n.Builder():o[s[c]]||{},o=o[s[c]];return"function"==typeof i&&(~a.indexOf("Components")||(o.click=n.click.bind(o),o.ajax=n.ajax.bind(o)),i.call(null,o,e,n.utils)),o};n.getElements=function(t){var e={},n=this.byElement.bind(t);return t.find("[data-element]").each(function(t,a){var i=this.utils.toDataSetName(a.dataset.element);e[i]||(e[i]=n(a.dataset.element))}.bind(this)),e},n.byAction=function(t,e){return(e||this).find('[data-action="'+t+'"]')},n.byElement=function(t){return this.find('[data-element="'+t+'"]')},n.event=function(t,a,i){var s=n.utils.getEventCallbackName(i,a);this.byAction(i).on(a,e.proxy(t,s))},n.getInstance=function(t,e){return e.byAction=this.byAction.bind(e),t.$el=e,t.data=e.data(),t.on=this.event.bind(e,t),t.elements=this.getElements(e),t.addPrefix=this.utils.addPrefix,t.prefix=this.utils.prefix(),t.ajax=this.ajax.bind(t),t.click=this.click.bind(t),t.body=jQuery("body"),t},n.Builder=function(){var t,e,n=this;return(t=function(){}).prototype=(e=function(e){var a=new t;return(a=n.getInstance(a,e)).start.apply(a,arguments),a}).fn=e.prototype,e.fn.start=function(){},e},n.ajax=function(t,a,i){var s,o={method:"POST",url:n.utils.getAjaxUrl(),data:{}};(s=e.ajax(e.extend(o,t||{}))).done(e.proxy(this,a||"_done")),s.fail(e.proxy(this,i||"_fail"))},n.click=function(t,a){var i=a||this;n.byAction(t,i.$el).on("click",e.proxy(i,n.utils.getEventCallbackName(t)))},n.utils={getGlobalVars:function(t){return(window.MOIPGlobalVars||{})[t]},prefix:function(){return this.getGlobalVars("prefix")||"monster"},getAjaxUrl:function(){return this.getGlobalVars("ajaxUrl")},getLocale:function(){return this.getGlobalVars("WPLANG")},getSpinnerUrl:function(){return this.getGlobalVars("spinnerUrl")},getPathUrl:function(t){return decodeURIComponent(t).split(/[?#]/)[0]},getTime:function(){return(new Date).getTime()},encodeUrl:function(t){return encodeURIComponent(t)},decodeUrl:function(t){return decodeURIComponent(t)},ucfirst:function(t){return this.parseName(t,/(\b[a-z])/g)},toDataSetName:function(t){return this.parseName(t,/(-)\w/g)},hasParam:function(){return~window.location.href.indexOf("?")},getPathName:function(){return window.location.pathname},getEventCallbackName:function(t,e){return this.ucfirst(["_on",e||"click",t].join("-"))},addPrefix:function(t,e){var n=e||"-";return this.prefix()+n+t},getSpinner:function(){var t=document.createElement("img");return t.src=this.getSpinnerUrl(),t.className=this.prefix()+"-spinner",t},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Tablet OS|IEMobile|Opera Mini/i.test(navigator.userAgent)},parseName:function(t,e){return t.replace(e,function(t){return t.toUpperCase()}).replace(/-/g,"")},remove:function(t){t.fadeOut("fast",function(){t.remove()})},getId:function(t){return!!t&&document.getElementById(t)},findComponent:function(t,n){var a=e(this).find(t);return a.length&&"function"==typeof n&&n.call(null,a,e(this)),a.length},get:function(t,e){var n,a,i,s;if(!this.hasParam())return e||"";for(a=(n=window.location.search.substring(1).split("&")).length,s=0;s<a;s++)if((i=n[s].split("="))[0]===t)return i[1];return e||""},strToCode:function(t){var e,n=0,a=t.length;if(!a)return n;for(e=0;e<a;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return Math.abs(n)}},t.MONSTER=n}(window,jQuery),MONSTER("MOIP.BuildComponents",function(t,e,n){t.create=function(t){var a="[data-"+n.addPrefix("component")+"]";n.findComponent.bind(t)(a,e.proxy(this,"_start"))},t._start=function(t){void 0!==MOIP.Components&&this._iterator(t)},t._iterator=function(t){var a;t.each(function(t,i){i=e(i),a=n.ucfirst(this.getComponent(i)),this._callback(a,i)}.bind(this))},t.getComponent=function(t){return(t=t.data(n.addPrefix("component")))||""},t._callback=function(t,e){var n=MOIP.Components[t];"function"!=typeof n?console.log('Component "'+t+'" is not a function.'):n.call(null,e)}},{}),MONSTER("MOIP.BuildCreate",function(t,e,n){t.init=function(t,e){e.length&&(this.$el=t,e.forEach(this.findNames.bind(this)))},t.findNames=function(t,e){this.callback(MOIP[n.ucfirst(t)])},t.callback=function(t){"function"==typeof t&&t.create(this.$el)}},{}),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||n)}(function(t){var e=function(e,n,a){var i={invalid:[],getCaret:function(){try{var t,n=0,a=e.get(0),s=document.selection,o=a.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=s.createRange()).moveStart("character",-i.val().length),n=t.text.length):(o||"0"===o)&&(n=o),n}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var n,a=e.get(0);a.setSelectionRange?a.setSelectionRange(t,t):((n=a.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())}}catch(t){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val())}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){r===i.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){r=i.val()}).on("focus.mask",function(e){!0===a.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){a.clearIfNotMatch&&!s.test(i.val())&&i.val("")})},getRegexMask:function(){for(var t,e,a,i,s,r,c=[],l=0;l<n.length;l++)(t=o.translation[n.charAt(l)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=t.optional,(i=t.recursive)?(c.push(n.charAt(l)),s={digit:n.charAt(l),pattern:e}):c.push(a||i?e+"?":e)):c.push(n.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=c.join(""),s&&(r=r.replace(new RegExp("("+s.digit+"(.*"+s.digit+")?)"),"($1)?").replace(new RegExp(s.digit,"g"),s.pattern)),new RegExp(r)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var n,a=e.is("input")?"val":"text";return arguments.length>0?(e[a]()!==t&&e[a](t),n=e):n=e[a](),n},calculateCaretPosition:function(t,n){var a=n.length,i=e.data("mask-previus-value")||"",s=i.length;return 8===e.data("mask-keycode")&&i!==n?t-=n.slice(0,t).length-i.slice(0,t).length:i!==n&&(t>=s?t=a:t+=n.slice(0,t).length-i.slice(0,t).length),t},behaviour:function(n){n=n||window.event,i.invalid=[];var a=e.data("mask-keycode");if(-1===t.inArray(a,o.byPassKeys)){var s=i.getMasked(),r=i.getCaret();return setTimeout(function(t,e){i.setCaret(i.calculateCaretPosition(t,e))},10,r,s),i.val(s),i.setCaret(r),i.callbacks(n)}},getMasked:function(t,e){var s,r,c,l=[],u=void 0===e?i.val():e+"",d=0,h=n.length,f=0,p=u.length,m=1,v="push",g=-1;for(a.reverse?(v="unshift",m=-1,s=0,d=h-1,f=p-1,r=function(){return d>-1&&f>-1}):(s=h-1,r=function(){return d<h&&f<p});r();){var k=n.charAt(d),b=u.charAt(f),y=o.translation[k];y?(b.match(y.pattern)?(l[v](b),y.recursive&&(-1===g?g=d:d===s&&(d=g-m),s===g&&(d-=m)),d+=m):b===c?c=void 0:y.optional?(d+=m,f-=m):y.fallback?(l[v](y.fallback),d+=m,f-=m):i.invalid.push({p:f,v:b,e:y.pattern}),f+=m):(t||l[v](k),b===k?f+=m:c=k,d+=m)}var w=n.charAt(s);return h!==p+1||o.translation[w]||l.push(w),l.join("")},callbacks:function(t){var s=i.val(),o=s!==r,c=[s,t,e,a],l=function(t,e,n){"function"==typeof a[t]&&e&&a[t].apply(this,n)};l("onChange",!0===o,c),l("onKeyPress",!0===o,c),l("onComplete",s.length===n.length,c),l("onInvalid",i.invalid.length>0,[s,t,e,i.invalid,a])}};e=t(e);var s,o=this,r=i.val();n="function"==typeof n?n(i.val(),void 0,e,a):n,o.mask=n,o.options=a,o.remove=function(){var t=i.getCaret();return i.destroyEvents(),i.val(o.getCleanVal()),i.setCaret(t),e},o.getCleanVal=function(){return i.getMasked(!0)},o.getMaskedVal=function(t){return i.getMasked(!1,t)},o.init=function(r){if(r=r||!1,a=a||{},o.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,o.byPassKeys=t.jMaskGlobals.byPassKeys,o.translation=t.extend({},t.jMaskGlobals.translation,a.translation),o=t.extend(!0,{},o,a),s=i.getRegexMask(),r)i.events(),i.val(i.getMasked());else{a.placeholder&&e.attr("placeholder",a.placeholder),e.data("mask")&&e.attr("autocomplete","off");for(var c=0,l=!0;c<n.length;c++){var u=o.translation[n.charAt(c)];if(u&&u.recursive){l=!1;break}}l&&e.attr("maxlength",n.length),i.destroyEvents(),i.events();var d=i.getCaret();i.val(i.getMasked()),i.setCaret(d)}},o.init(!e.is("input"))};t.maskWatchers={};var n=function(){var n=t(this),i={},s="data-mask-",o=n.attr("data-mask");if(n.attr(s+"reverse")&&(i.reverse=!0),n.attr(s+"clearifnotmatch")&&(i.clearIfNotMatch=!0),"true"===n.attr(s+"selectonfocus")&&(i.selectOnFocus=!0),a(n,o,i))return n.data("mask",new e(this,o,i))},a=function(e,n,a){a=a||{};var i=t(e).data("mask"),s=JSON.stringify,o=t(e).val()||t(e).text();try{return"function"==typeof n&&(n=n(o)),"object"!=typeof i||s(i.options)!==s(a)||i.mask!==n}catch(t){}};t.fn.mask=function(n,i){i=i||{};var s=this.selector,o=t.jMaskGlobals,r=o.watchInterval,c=i.watchInputs||o.watchInputs,l=function(){if(a(this,n,i))return t(this).data("mask",new e(this,n,i))};return t(this).each(l),s&&""!==s&&c&&(clearInterval(t.maskWatchers[s]),t.maskWatchers[s]=setInterval(function(){t(document).find(s).each(l)},r)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){((e=e||t.jMaskGlobals.maskElements)instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(n)};var i,s,o,r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(i="input",o=document.createElement("div"),(s=(i="on"+i)in o)||(o.setAttribute(i,"return;"),s="function"==typeof o[i]),o=null,s),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},(r=t.jMaskGlobals=t.extend(!0,{},r,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},r.watchInterval)},window.jQuery,window.Zepto),function(t){t.fn.isEmptyValue=function(){return!t.trim(this.val())}}(jQuery),MONSTER("MOIP.Application",function(t,e,n){var a=[];t.init=function(t){MOIP.BuildComponents.create(t),MOIP.BuildCreate.init(t,a)}}),MONSTER("MOIP.Components.Authorize",function(t,e,n){var a=n.addPrefix("field-error");t.fn.start=function(){this.btnText=this.elements.button.text(),this.init()},t.fn.init=function(){this.addEventListener()},t.fn.addEventListener=function(){this.on("submit","form"),this.click("close")},t.fn._onSubmitForm=function(t){t.preventDefault(),this.elements.message.hide(),this.elements.closeAfter.hide(),this.loading(),this.isCheckedMode()?this._request(t):this.clear()},t.fn.isCheckedMode=function(t){var e=this.elements.mode;return e.is(":checked")?(e.removeClass(a),!0):(e.addClass(a),!1)},t.fn.loading=function(){var t=this.elements.button;t.text(t.data("text-waiting")).prop("disabled",!0),t.append(n.getSpinner())},t.fn.clear=function(){this.elements.button.text(this.btnText).prop("disabled",!1)},t.fn._request=function(t){this.ajax({data:{action:"GAb1rv70dV",mode:this.elements.mode.filter(":checked").val()}})},t.fn._done=function(t){var e=this.elements.message.find("span");t.success?window.location=t.data:(this.clear(),e.attr("class",""),e.addClass("alert alert-danger"),e.text(t.data),this.elements.message.slideToggle())},t.fn._fail=function(){this.clear()},t.fn._onClickClose=function(t){t.preventDefault(),this.body.find("#app-overlay").slideToggle()}}),MONSTER("MOIP.Components.Settings",function(t,e,n){var a=n.addPrefix("field-error");t.fn.start=function(){this.init()},t.fn.init=function(){this.publicKey=e('[data-field="public-key"]'),this.installments=e('[data-field="installments"]'),this.billet=e('[data-field="billet"]'),this.debit=e('[data-field="debit"]'),this.bDiscount=e('[data-field="billet-discount"]'),this.eAccessToken=e('[data-field="enable-accesstoken"]'),this.nAccessToken=e('[data-field="number-accesstoken"]'),this.handleElementsVisibility(this.elements.checkout.val()),this.hideInstallments(e("[data-action=installments-maximum]").val()),this.addEventListener(),this.addAccessToken()},t.fn.addEventListener=function(){this.on("keyup","invoice-name"),this.on("change","checkout-type"),this.on("change","installments-maximum"),e("#oauth-app-btn").on("click",this._onClickOauthApp.bind(this)),e("#mainform").on("submit",this._onSubmitForm.bind(this))},t.fn._onKeyupInvoiceName=function(t){t.currentTarget.value.length>13?e(t.currentTarget).addClass(a):e(t.currentTarget).removeClass(a)},t.fn._onSubmitForm=function(t){return this.toTop=!1,this.items=[],this.elements.validate.each(this._eachValidate.bind(this)),!~this.items.indexOf(!0)},t.fn._onChangeCheckoutType=function(t){this.handleElementsVisibility(t.currentTarget.value)},t.fn._onChangeInstallmentsMaximum=function(t){this.hideInstallments(t.currentTarget.value)},t.fn.hideInstallments=function(t){var n=e("[data-installment]");n.each(function(a,i){var s=e(i);parseInt(i.dataset.installment)>parseInt(t)?s.hide():n.show()})},t.fn._onClickOauthApp=function(t){this.body.find("#app-overlay").slideToggle()},t.fn._eachValidate=function(t,n){var i,s=e(n),o=s.isEmptyValue(),r=o?"addClass":"removeClass";s.is(":visible")&&(s[r](a),this.items[t]=o,o&&(n.placeholder=n.dataset.errorMsg,this.toTop||(this.toTop=!0,i=n.getBoundingClientRect(),window.scrollTo(0,i.top+window.scrollY-40))))},t.fn.addAccessToken=function(){var t=this.nAccessToken.closest("tr");!0===this.eAccessToken.prop("checked")?t.show():t.hide(),e("#woocommerce_woo-moip-official_field_enable_acesstoken").on("click",this._onClickAccessToken.bind(this))},t.fn._onClickAccessToken=function(){var t=this.nAccessToken.closest("tr");!0===this.eAccessToken.prop("checked")?t.show():t.hide()},t.fn.handleElementsVisibility=function(t){var e=this.publicKey.closest("tr"),n=this.installments.closest(".form-table"),a=n.prev(),i=this.billet.closest(".form-table"),s=i.prev(),o=this.debit.closest("tr"),r=this.bDiscount.closest(".form-table"),c=r.prev();"default_checkout"==t&&(e.show(),n.show(),a.show(),i.show(),s.show(),o.hide(),c.hide(),r.hide()),"transparent_checkout"==t&&(e.show(),n.show(),a.show(),i.show(),s.show(),o.hide(),c.show(),r.show()),"moip_checkout"==t&&(e.hide(),n.hide(),a.hide(),i.hide(),s.hide(),o.show(),c.hide(),r.hide())}}),jQuery(function(t){var e=t("body");MOIP.vars={body:e},MOIP.Application.init.apply(null,[e])});