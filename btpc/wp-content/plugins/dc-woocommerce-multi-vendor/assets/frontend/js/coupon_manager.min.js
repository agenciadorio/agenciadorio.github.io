jQuery(document).ready(function(e){if("undefined"==typeof coupon_manager_js_script_data)return!1;function o(){return $is_valid=!0,e(".woocommerce-error,.woocommerce-message").remove(),0==e.trim(e("#coupon_manager_form").find("#title").val()).length&&($is_valid=!1,e("#coupon_manager_form").prepend('<div class="woocommerce-error" tabindex="-1">'+coupon_manager_js_script_data.messages.no_title+"</div>"),e(".woocommerce-error").focus()),$is_valid}e("#frontend_coupon_manager_accordion").accordion({heightStyle:"content",collapsible:!0,activate:function(e,o){o.newHeader.hasClass("variations")&&resetVariationsAttributes()}}),e(".img_tip").each(function(){e(this).qtip({content:e(this).attr("data-desc"),position:{my:"center left",at:"center right",viewport:e(window)},show:{event:"mouseover",solo:!0},hide:{inactive:6e3,fixed:!0},style:{classes:"qtip-dark qtip-shadow qtip-rounded qtip-dc-css"}})}),e("#expiry_date").each(function(){e(this).datepicker({dateFormat:"yy-mm-d",changeMonth:!0,changeYear:!0})}),e("#product_ids").select2({placeholder:coupon_manager_js_script_data.messages.search_product}),e("#exclude_product_ids").select2({placeholder:coupon_manager_js_script_data.messages.search_product}),e("#product_categories").select2({placeholder:coupon_manager_js_script_data.messages.any_category}),e("#exclude_product_categories").select2({placeholder:coupon_manager_js_script_data.messages.no_category}),e("#coupon_manager_draft_button").click(function(r){if(r.preventDefault(),$is_valid=o(),$is_valid){e("#coupon_manager_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var a={action:"frontend_coupon_manager",coupon_manager_form:e("#coupon_manager_form").serialize(),status:"draft"};e.post(coupon_manager_js_script_data.ajax_url,a,function(o){o&&($response_json=e.parseJSON(o),$response_json.status?window.location=$response_json.redirect:(e(".woocommerce-error,.woocommerce-message").remove(),e("#coupon_manager_form").prepend('<div class="woocommerce-error" tabindex="-1">'+$response_json.message+"</div>"),e(".woocommerce-error").focus()),$response_json.id&&e("#coupon_id").val($response_json.id),e("#coupon_manager_form").unblock())})}}),e("#coupon_manager_submit_button").click(function(r){if(r.preventDefault(),$is_valid=o(),$is_valid){e("#coupon_manager_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var a={action:"frontend_coupon_manager",coupon_manager_form:e("#coupon_manager_form").serialize(),status:"submit"};e.post(coupon_manager_js_script_data.ajax_url,a,function(o){o&&($response_json=e.parseJSON(o),$response_json.status?window.location=$response_json.redirect:(e(".woocommerce-error,woocommerce-message").remove(),e("#coupon_manager_form").prepend('<div class="woocommerce-error" tabindex="-1">'+$response_json.message+"</div>"),e(".woocommerce-error").focus()),$response_json.id&&e("#coupon_id").val($response_json.id),e("#coupon_manager_form").unblock())})}})});